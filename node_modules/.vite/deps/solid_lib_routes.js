import {
  __commonJS,
  __require
} from "./chunk-VUNV25KB.js";

// browser-external:fs
var require_fs = __commonJS({
  "browser-external:fs"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "fs" has been externalized for browser compatibility. Cannot access "fs.${key}" in client code. See https://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// ../../node_modules/thermos/lib/thermos.js
var require_thermos = __commonJS({
  "../../node_modules/thermos/lib/thermos.js"(exports, module) {
    (function() {
      var HTMLSafeString, ThermosContext, config, doctypes, elements, escapeHTML, normalizeUrl, options, render, tags, thermos, type, typeOf, __slice = [].slice, __indexOf = [].indexOf || function(item) {
        for (var i = 0, l = this.length; i < l; i++) {
          if (i in this && this[i] === item) return i;
        }
        return -1;
      };
      thermos = {};
      thermos.version = "0.1.0";
      typeOf = function(obj) {
        return Object.prototype.toString.call(obj).slice(8, -1);
      };
      config = {
        ROOT_JS_URL: "/javascripts/",
        ROOT_CSS_URL: "/stylesheets/"
      };
      thermos.configure = function(opts) {
        var func, name, _ref, _ref1, _results;
        if ((_ref = config.helpers) == null) {
          config.helpers = {};
        }
        _ref1 = opts.helpers;
        _results = [];
        for (name in _ref1) {
          func = _ref1[name];
          _results.push(config.helpers[name] = func);
        }
        return _results;
      };
      thermos.resetConfig = function(opts) {
        return config = {};
      };
      thermos.options = options = {
        DEFAULT_DOCTYPE: 5
      };
      elements = {
        regular: "a abbr address article aside audio b bdi bdo blockquote body\nbutton canvas caption cite code colgroup datalist dd del details dfn div dl\ndt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header\nhgroup html i iframe ins kbd label legend li map mark menu meter nav\nnoscript object ol optgroup option output p pre progress q rp rt ruby s\nsamp script section select small span strong style sub summary sup table\ntbody td textarea tfoot th thead time title tr u ul var video",
        "void": "area base br col command embed hr img input keygen link meta\nparam source track wbr"
      };
      for (type in elements) {
        tags = elements[type];
        elements[type] = tags.split(/\s+/);
      }
      doctypes = {
        "5": "<!DOCTYPE html>",
        "xml": '<?xml version="1.0" encoding="utf-8" ?>',
        "transitional": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',
        "strict": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',
        "frameset": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',
        "1.1": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',
        "basic": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',
        "mobile": '<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">',
        "ce": '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "ce-html-1.0-transitional.dtd">'
      };
      normalizeUrl = function(root, url, ext) {
        url = url.substr(-ext.length) !== ext ? url + ext : url;
        if (url[0] === "/" || /^[-a-z]+:\/\//.test(url)) {
          return url;
        } else {
          return root + url;
        }
      };
      escapeHTML = function(str) {
        return String(str).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi, "&amp;").replace(/</g, "&gt;").replace(/>/g, "&lt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/â€”/g, "&mdash;");
      };
      ThermosContext = (function() {
        var element, _fn, _i, _len, _ref, _this = this;
        function ThermosContext2(opts, template) {
          var func, name, _ref2, _ref1;
          if (opts == null) {
            opts = {};
          }
          this.buffer = [];
          this.template = template;
          this.locals = opts.locals || {};
          _ref2 = config.helpers || {};
          for (name in _ref2) {
            func = _ref2[name];
            this[name] = func;
          }
          _ref1 = opts.helpers || {};
          for (name in _ref1) {
            func = _ref1[name];
            this[name] = func;
          }
        }
        _ref = elements.regular.concat(elements["void"]);
        _fn = function(element2) {
          return ThermosContext2.prototype[element2] = function() {
            return this.tag.apply(this, [element2].concat(__slice.call(arguments)));
          };
        };
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          element = _ref[_i];
          _fn(element);
        }
        ThermosContext2.prototype.render = function() {
          this.template.call(this, this.locals);
          return this.buffer.join("");
        };
        ThermosContext2.prototype.doctype = function(version) {
          if (version == null) {
            version = options.DEFAULT_DOCTYPE;
          }
          return this.buffer.push(doctypes[String(version)]);
        };
        ThermosContext2.prototype.text = function(txt) {
          return this.buffer.push(String(txt));
        };
        ThermosContext2.prototype.js = function(url) {
          url = normalizeUrl(config.ROOT_JS_URL, url, ".js");
          return this.script({
            type: "text/javascript",
            src: url
          });
        };
        ThermosContext2.prototype.css = function(url) {
          url = normalizeUrl(config.ROOT_CSS_URL, url, ".css");
          return this.link({
            type: "text/css",
            rel: "stylesheet",
            media: "screen",
            href: url
          });
        };
        ThermosContext2.prototype.script = function(callback) {
          var string;
          if (typeOf(callback) === "Function") {
            string = "(" + callback.toString() + ").call(this);";
            return this.tag("script", this.html_safe(string));
          } else {
            return this.tag.apply(this, ["script"].concat(__slice.call(arguments)));
          }
        };
        ThermosContext2.prototype.link_to = function() {
          var args, attrs, func, text, url;
          args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
          if (typeOf(args[args.length - 1]) === "Function") {
            url = args.shift();
            func = args.pop();
            attrs = args.pop();
            return this.a({
              href: url
            }, attrs, func);
          } else {
            text = args[0];
            url = args[1] || text;
            attrs = args[2];
            return this.a({
              href: url
            }, text, attrs);
          }
        };
        ThermosContext2.prototype.tag = function() {
          var arg, args, attrs, classRegex, data, func, groups, i, key, returned, tagName, text, val, value, _j, _len1;
          tagName = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
          attrs = {};
          for (i = _j = 0, _len1 = args.length; _j < _len1; i = ++_j) {
            arg = args[i];
            switch (typeOf(arg)) {
              case "Function":
                func = arg;
                break;
              case "String":
                if (i === 0 && /^([#.][a-z_-][\w-]*)+$/i.test(arg)) {
                  classRegex = /\.([^#.]+)/g;
                  if (groups = /#([^#.]+)/.exec(arg)) {
                    attrs.id = groups.pop();
                  }
                  while (groups = classRegex.exec(arg)) {
                    (attrs["class"] || (attrs["class"] = [])).push(groups[1]);
                  }
                  attrs["class"] && (attrs["class"] = attrs["class"].join(" "));
                } else {
                  text = escapeHTML(arg);
                }
                break;
              case "Object":
                if (arg instanceof HTMLSafeString) {
                  text = arg.str;
                } else {
                  for (key in arg) {
                    value = arg[key];
                    attrs[key] = value;
                  }
                }
            }
          }
          if (data = attrs.data) {
            delete attrs.data;
            for (key in data) {
              val = data[key];
              key = key.replace(/_/g, "-");
              attrs["data-" + key] = val;
            }
          }
          attrs = function() {
            var _results;
            _results = [];
            for (key in attrs) {
              value = attrs[key];
              _results.push(" " + key + '="' + value + '"');
            }
            return _results;
          }().join("");
          if (__indexOf.call(elements["void"], tagName) >= 0) {
            this.text("<" + tagName + attrs + "/>");
          } else {
            this.text("<" + tagName + attrs + ">");
            if (func != null) {
              returned = func.call(this, this.locals);
              if (typeOf(returned) === "String") {
                this.text(returned);
              }
            }
            this.text;
            if (text != null) {
              this.text(String(text));
            }
            this.text("</" + tagName + ">");
          }
          return this;
        };
        ThermosContext2.prototype.html_safe = function(str) {
          return new HTMLSafeString(str);
        };
        ThermosContext2.prototype.toString = function() {
          return "";
        };
        return ThermosContext2;
      }).call(this);
      HTMLSafeString = /* @__PURE__ */ function() {
        function HTMLSafeString2(str) {
          this.str = str;
        }
        return HTMLSafeString2;
      }();
      thermos.render = render = function(opts, template) {
        var cc;
        if (opts == null) {
          opts = {};
        }
        if (arguments.length === 1) {
          template = opts;
          opts = {};
        }
        cc = new ThermosContext(opts, template);
        return cc.render();
      };
      thermos.template = function(template) {
        return function(locals) {
          return render({
            locals
          }, template);
        };
      };
      if (typeof module !== "undefined" && module !== null ? module.exports : void 0) {
        module.exports = thermos;
      } else {
        this.thermos = thermos;
      }
    }).call(exports);
  }
});

// browser-external:path
var require_path = __commonJS({
  "browser-external:path"(exports, module) {
    module.exports = Object.create(new Proxy({}, {
      get(_, key) {
        if (key !== "__esModule" && key !== "__proto__" && key !== "constructor" && key !== "splice") {
          console.warn(`Module "path" has been externalized for browser compatibility. Cannot access "path.${key}" in client code. See https://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`);
        }
      }
    }));
  }
});

// ../../node_modules/solid/lib/dsl.js
var require_dsl = __commonJS({
  "../../node_modules/solid/lib/dsl.js"(exports, module) {
    (function() {
      var compiled, dsl, fs, includes, normalize, path, readFile, render, thermos;
      fs = require_fs();
      thermos = require_thermos();
      path = require_path();
      dsl = module.exports = {};
      includes = {};
      compiled = {};
      dsl.render = function(opts, func) {
        if (!func) {
          func = opts;
          opts = {};
        }
        return function(req, res) {
          opts.locals = req || {};
          return thermos.render(opts, func);
        };
      };
      dsl.jquery = function() {
        return {
          type: "text/javascript",
          body: fs.readFileSync("" + __dirname + "/../external-libs/jquery.min.js", "utf8")
        };
      };
      dsl.haml = function(template, options, locals) {
        if (options == null) options = {};
        if (locals == null) locals = {};
        return render("haml", template, options, locals);
      };
      dsl.jade = function(template, options, locals) {
        if (options == null) options = {};
        if (locals == null) locals = {};
        options.method || (options.method = "compile");
        return render("jade", template, options, locals);
      };
      dsl.sass = function(template, options, locals) {
        if (options == null) options = {};
        if (locals == null) locals = {};
        options.method || (options.method = "render");
        return render("sass", template, options);
      };
      render = function(engine, template, options, locals) {
        var contents, extension, method, renderer, views, _ref;
        extension = options.extension || engine;
        views = options.views || "views";
        method = options.method;
        template = normalize(template, extension);
        if (!(template in compiled)) {
          if ((_ref = includes[engine]) == null) includes[engine] = __require(engine);
          contents = readFile(template, views);
          renderer = method != null ? includes[engine][method] : includes[engine];
          compiled[template] = renderer(contents);
        }
        if (locals != null) {
          return compiled[template](locals);
        } else {
          return compiled[template];
        }
      };
      normalize = function(url, extension) {
        var urlExtension;
        urlExtension = url.split(".").pop();
        if (extension === urlExtension) {
          return url;
        } else {
          return "" + url + "." + extension;
        }
      };
      readFile = function(filePath, views) {
        var fullPath;
        filePath = filePath.replace(/^\/\/*/, "");
        fullPath = path.join(process.cwd(), views, filePath);
        return fs.readFileSync(fullPath, "utf8");
      };
    }).call(exports);
  }
});

// ../../node_modules/solid/lib/routes.js
var require_routes = __commonJS({
  "../../node_modules/solid/lib/routes.js"(exports, module) {
    (function() {
      var Path, Router, dsl, methods;
      var __slice = Array.prototype.slice;
      dsl = require_dsl();
      Path = require_path();
      methods = {
        "get": [],
        "post": ["create"],
        "put": ["update"],
        "delete": ["del"]
      };
      Router = (function() {
        var alias, aliases, method, _fn, _i, _len;
        var _this = this;
        function Router2(app) {
          this.app = app;
          this.routes = {};
          this.namespaces = [];
        }
        Router2.prototype.namespace = function(path, fn) {
          this.namespaces.push(path);
          fn.call(dsl);
          this.namespaces.pop();
          return this;
        };
        for (method in methods) {
          aliases = methods[method];
          aliases.push(method);
          _fn = function(method2) {
            return Router2.prototype[alias] = function(path, action) {
              var fullPath;
              fullPath = Path.join.apply(Path, ["/"].concat(__slice.call(this.namespaces), [path]));
              return this.app[method2](fullPath, function(req, res, next) {
                var content, _ref;
                res.setHeader("X-Powered-By", "solid");
                console.log("[" + req.method + "] " + req.path);
                if (typeof action === "function") {
                  content = action.call(dsl, req, res);
                } else if (typeof action === "string" && action[0] === "/") {
                  res.redirect(action);
                  return;
                }
                if (!content) return;
                if (typeof content === "object") {
                  if ((_ref = content.headers) == null) content.headers = {};
                  if ("type" in content) {
                    content.headers["Content-Type"] = content.type;
                  }
                  res.writeHead(content.statusCode || 200, content.headers);
                  return res.end(content.body, "utf-8");
                } else {
                  res.writeHead(200, {
                    "Content-Type": "text/html"
                  });
                  return res.end(content, "utf-8");
                }
              });
            };
          };
          for (_i = 0, _len = aliases.length; _i < _len; _i++) {
            alias = aliases[_i];
            _fn(method);
          }
        }
        return Router2;
      }).call(this);
      module.exports = {
        Router
      };
    }).call(exports);
  }
});
export default require_routes();
//# sourceMappingURL=solid_lib_routes.js.map
